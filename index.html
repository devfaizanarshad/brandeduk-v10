<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrandedUK - Coming Soon</title>
    <script>
        // DEV MODE: Add ?dev=1 to URL to bypass coming soon redirect
        // Example: http://127.0.0.1:5501/index.html?dev=1
        (function() {
            var params = new URLSearchParams(window.location.search);
            var isDevMode = params.get('dev') === '1' || window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
            
            if (!isDevMode) {
                // Production: redirect to coming soon
                window.location.replace('indexcomingsoon.html');
            }
            // Dev mode: continue to normal site detection below
        })();
    </script>
    <style>
        body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background: #f7f7f7;
            color: #333;
        }
        .loader {
            text-align: center;
            padding: 20px;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #ccc;
            border-top: 4px solid #7c3aed;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 12px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        a { color: #7c3aed; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .dev-notice {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 12px;
            color: #92400e;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="loader">
        <div class="dev-notice">üõ†Ô∏è DEV MODE - Coming soon redirect bypassed</div>
        <div class="spinner"></div>
        <p>Detecting your device...</p>
        <p id="debugInfo" style="font-size:12px; color:#666; margin:6px 0 10px;"></p>
        <p style="margin:0; font-size:13px;">
            <a href="index-mobile.html" id="mobileLink">Mobile/Tablet</a>
            &nbsp;|&nbsp;
            <a href="brandeduk.com/home-pc.html" id="desktopLink">Desktop</a>
            &nbsp;|&nbsp;
            <a href="indexcomingsoon.html">Coming Soon Page</a>
        </p>
        <noscript>
            <p>
                JavaScript is required for automatic redirect.<br>
                <a href="index-mobile.html">Go to Mobile/Tablet Site</a> | 
                <a href="brandeduk.com/home-pc.html">Go to Desktop Site</a>
            </p>
        </noscript>
    </div>

    <script>
        (function () {
            var BREAKPOINT = 1024;
            var lastTarget = null;
            var autoTimer = null;
            var debugInfoEl = document.getElementById('debugInfo');

            function updateDebug(mode) {
                if (!debugInfoEl) return;
                debugInfoEl.textContent = 'width=' + window.innerWidth + ' ‚Ä¢ dpr=' + (window.devicePixelRatio || 1) + ' ‚Ä¢ mode=' + mode;
            }

            function getForcedTarget() {
                try {
                    var params = new URLSearchParams(window.location.search);
                    var force = (params.get('force') || '').toLowerCase();
                    if (force === 'mobile') return 'index-mobile.html';
                    if (force === 'desktop') return 'brandeduk.com/home-pc.html';
                } catch (e) {}
                return null;
            }

            function computeTargetByDevice() {
                var ua = (navigator.userAgent || '').toLowerCase();
                var uaDataMobile = false;
                try {
                    uaDataMobile = !!(navigator.userAgentData && navigator.userAgentData.mobile);
                } catch (e) {
                    uaDataMobile = false;
                }
                var isIPad = ua.indexOf('ipad') !== -1 || (ua.indexOf('macintosh') !== -1 && (navigator.maxTouchPoints || 0) > 1);
                var isIPhone = ua.indexOf('iphone') !== -1 || ua.indexOf('ipod') !== -1;
                var isAndroid = ua.indexOf('android') !== -1;
                var isAndroidTablet = isAndroid && ua.indexOf('mobile') === -1;
                var isTabletUA = isIPad || isAndroidTablet || ua.indexOf('tablet') !== -1 || ua.indexOf('silk') !== -1;
                var isMobileUA = uaDataMobile || isIPhone || /\bmobi\b/.test(ua) || ua.indexOf('iemobile') !== -1 || ua.indexOf('opera mini') !== -1;
                var isViewportMobile = window.matchMedia
                    ? window.matchMedia('(max-width: ' + (BREAKPOINT - 1) + 'px)').matches
                    : (window.innerWidth < BREAKPOINT);
                var shouldUseMobile = isMobileUA || isTabletUA || isViewportMobile;
                return shouldUseMobile ? 'index-mobile.html' : 'brandeduk.com/home-pc.html';
            }

            function redirectIfNeeded() {
                var forced = getForcedTarget();
                var target = forced || computeTargetByDevice();
                // Preserve dev=1 param when redirecting
                var params = new URLSearchParams(window.location.search);
                if (params.get('dev') === '1') {
                    target += (target.indexOf('?') === -1 ? '?' : '&') + 'dev=1';
                }
                updateDebug(forced ? ('forced:' + forced) : (target.indexOf('mobile') !== -1 ? 'auto:mobile' : 'auto:desktop'));
                if (target && target !== lastTarget) {
                    lastTarget = target;
                    window.location.replace(target);
                }
            }

            updateDebug('pending');
            autoTimer = setTimeout(redirectIfNeeded, 250);
        })();
    </script>
</body>
</html>
